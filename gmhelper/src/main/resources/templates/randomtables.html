<!DOCTYPE HTML>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

        <title>GM Helper</title>

        <link rel="stylesheet" th:href="@{webjars/bootstrap/4.6.0/css/bootstrap.min.css}"/>
        <link rel="stylesheet" th:href="@{/css/main.css}"/>
    </head>

    <body>
        <script type="text/javascript" th:src="@{webjars/jquery/3.5.1/jquery.min.js}"></script>
        <script type="text/javascript" th:src="@{webjars/bootstrap/4.6.0/js/bootstrap.min.js}"></script>

        <div th:include="fragments/header::header"></div>

        <main role="main" class="container">
            <div class="starter-template row">
                <div class="col-md-12">
                    <h1>Tabele Losowe</h1>
                </div>      
            </div>

            <div class="character-attributes row" >
                <div class="col-md-12">
                    <h2>1. Las</h2>
                    <!-- Button trigger modal -->
                    <button id="forestRoll" type="button" class="btn btn-primary" data-toggle="modal" data-target="#staticBackdrop">Rzuć</button>
                    <table>
                        <tr>
                            <th>Rzut</th>
                            <th>Wydarzenie</th>
                        </tr>
                        <th:block th:each="forestTable_value : ${forestTable}">
                            <tr>
                                <td th:text="${forestTable_value.rollValue}"></td>
                                <td th:text="${forestTable_value.description}"></td>
                            </tr>           
                        </th:block>
                    </table>
                    <br>
                </div>
            </div>

            <div class="character-race row">
                <div class="col-md-12">
                    <h2>2. Miasto</h2>
                    <!-- Button trigger modal -->
                    <button id="cityRoll" type="button" class="btn btn-primary" data-toggle="modal" data-target="#staticBackdrop">Rzuć</button>
                    <table>
                        <tr>
                            <th>Rzut</th>
                            <th>Wydarzenie</th>
                        </tr>
                        <th:block th:each="cityTable_value : ${cityTable}">
                            <tr>
                                <td th:text="${cityTable_value.rollValue}"></td>
                                <td th:text="${cityTable_value.description}"></td>
                            </tr>           
                        </th:block>
                    </table>
                    <br>
                </div>
            </div>

            <!-- Modal -->
            <div class="modal fade" id="staticBackdrop" data-backdrop="static" data-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
              <div class="modal-dialog">
                <div class="modal-content">
                  <div class="modal-header">
                    <h5 class="modal-title" id="staticBackdropLabel">Wynik rzutu</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                      <span aria-hidden="true">&times;</span>
                    </button>
                  </div>
                  <div class="modal-body" id="rollResult"></div>
                </div>
              </div>
            </div>

            <script>
                function randomIntFromInterval(max) { // min and max included 
                    min = 1;
                    return Math.floor(Math.random() * (max - min + 1) + min);
                }

                $('#forestRoll').click(function(){
                    $('#rollResult').text(randomIntFromInterval(10));
                });

                $('#cityRoll').click(function(){
                    $('#rollResult').text(randomIntFromInterval(10));
                });

            </script>
      
        </main>
    </body>
</html>